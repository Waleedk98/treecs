{% extends "base.html" %}

{% block title %}
Login - Tree App
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<div class="login-container">
    <form method="POST" action="/login">
        <div class="logo">
            <img src="{{ url_for('static', filename='img/treecs_logo.png') }}"
                 alt="Tree App Logo">
        </div>
        <h2>Willkommen bei der<br> Tree App</h2>
        <label for="account_type">Kontotyp:</label>
        <select id="account_type" name="account_type" class="form-select" onchange="toggleFields()">
            <option value="User">User</option>
            <option value="Guest">Gast</option>
        </select>
    
        <div id="user_fields">
            <label for="username">Benutzername:</label>
            <input type="text" id="username" name="username" class="form-control" placeholder="Benutzername eingeben">
    
            <label for="password">Passwort:</label>
            <input type="password" id="password" name="password" class="form-control" placeholder="Passwort eingeben">
        </div>
    
        <div id="guest_fields">
            <label for="guest_name">Gastname (optional):</label>
            <input type="text" id="guest_name" name="guest_name" class="form-control" placeholder="Gastname eingeben">
        </div>
    
        <button type="submit" class="btn btn-primary">Anmelden</button>
        <a href="/register" class="btn btn-secondary">Zum Registrieren</a>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    function toggleFields() {
        const accountType = document.getElementById('account_type').value;
        const userFields = document.getElementById('user_fields');
        const guestFields = document.getElementById('guest_fields');
    
        if (accountType === 'Guest') {
            userFields.style.display = 'none';
            guestFields.style.display = 'block';
        } else {
            userFields.style.display = 'block';
            guestFields.style.display = 'none';
        }
    }
    // Optionally initialize the correct fields on page load
    toggleFields();
</script>
{% endblock %}